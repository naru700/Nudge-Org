<div class="panel-content">
  <h3>Live Session</h3>
  
  <video #screenVideo class="video-box" autoplay muted></video>

  <div class="button-container">
    <p-buttongroup>
      <p-button
        label="Share Screen"
        icon="pi pi-desktop"
        severity="primary"
        (click)="startScreenShare()"
      ></p-button>

      <div class="mic-button-wrapper">
        <p-button
          [label]="micActive ? 'Mic On' : 'Mic Off'"
          icon="pi pi-microphone"
          [severity]="micActive ? 'success' : 'secondary'"
          (click)="toggleMicrophone()"
        ></p-button>
        <span *ngIf="micActive" class="mic-blink-dot"></span>
      </div>
    </p-buttongroup>
  </div>

  <div class="transcript-box">
    <p *ngFor="let line of transcriptLines">{{ line }}</p>
    <p *ngIf="currentInterimLine">{{ currentInterimLine }}</p>
    <p *ngIf="!transcriptLines.length && !currentInterimLine">
      Waiting for session to start...
    </p>
  </div>
</div>
